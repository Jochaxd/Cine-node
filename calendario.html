<!--
Author: Designmaz
Author URL: https://www.designmaz.net
License URL: https://www.designmaz.net/licence/
-->
<!DOCTYPE html>
<html>
<head>
<title>Calendario</title>
<!--Custom Theme files-->
<link rel="stylesheet" type="text/css" href="calendario.css">
<meta charset="utf-8">
</head>
<body onload="cargarpeliculasdelmesyanno()">
	<h1>Febrero</h1>
	<input type="hidden" id="mes" value="2"/>
	<input type="hidden" id="anno" value="2019"/>
	<ol class="calendar">
		  <li class="calendar-day calendar-day--begin-week calendar-day--past calendar-day--not-month" data-weekday="Mon" data-week="39">
		    <span class="calendar-day__number">26</span>
		    <div class="calendar-day__content"></div>
		  </li>
		  <li class="calendar-day calendar-day--past calendar-day--not-month" data-weekday="Tue" data-week="39">
		    <span class="calendar-day__number">27</span>
		    <div class="calendar-day__content"></div>
		  </li>
		  <li class="calendar-day calendar-day--past calendar-day--not-month" data-weekday="Wed" data-week="39">
		    <span class="calendar-day__number">28</span>
		    <div class="calendar-day__content"></div>
		  </li>
		  <li class="calendar-day calendar-day--past calendar-day--entry calendar-day--not-month" data-weekday="Thu" data-week="39">
		    <span class="calendar-day__number">29</span>
		    <div class="calendar-day__content"></div>
		  </li>
		  <li class="calendar-day calendar-day--past calendar-day--not-month" data-weekday="Fri" data-week="39">
		    <span class="calendar-day__number">30</span>
		    <div class="calendar-day__content"></div>
		  </li>
		  <li class="calendar-day calendar-day--past calendar-day--entry" data-weekday="Sat" data-week="39">
		    <span class="calendar-day__number">01</span>
		    <div class="calendar-day__content" id="1"></div>
		  </li>
		  <li class="calendar-day calendar-day--past calendar-day--entry" data-weekday="Sun" data-week="39">
		    <span class="calendar-day__number">02</span>
		    <div class="calendar-day__content" id="2"></div>
		  </li>
		  <li class="calendar-day calendar-day--begin-week calendar-day--past" data-weekday="Mon" data-week="40">
		    <span class="calendar-day__number">03</span>
		    <div class="calendar-day__content" id="3"></div>
		  </li>
		  <li class="calendar-day calendar-day--past" data-weekday="Tue" data-week="40">
		    <span class="calendar-day__number">04</span>
		    <div class="calendar-day__content" id="4"></div>
		  </li>
		  <li class="calendar-day calendar-day--past" data-weekday="Wed" data-week="40">
		    <span class="calendar-day__number">05</span>
		    <div class="calendar-day__content" id="5"></div>
		  </li>
		  <li class="calendar-day calendar-day--past" data-weekday="Thu" data-week="40">
		    <span class="calendar-day__number">06</span>
		    <div class="calendar-day__content" id="6"></div>
		  </li>
		  <li class="calendar-day calendar-day--today" data-weekday="Fri" data-week="40">
		    <span class="calendar-day__number">07</span>
		    <div class="calendar-day__content" id="7"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Sat" data-week="40">
		    <span class="calendar-day__number">08</span>
		    <div class="calendar-day__content" id="8"></div>
		  </li>
		  <li class="calendar-day calendar-day--entry" data-weekday="Sun" data-week="40">
		    <span class="calendar-day__number">09</span>
		    <div class="calendar-day__content" id="9"></div>
		  </li>
		  <li class="calendar-day calendar-day--begin-week calendar-day--entry" data-weekday="Mon" data-week="41">
		    <span class="calendar-day__number">10</span>
		    <div class="calendar-day__content" id="10"></div>
		  </li>
		  <li class="calendar-day calendar-day--entry" data-weekday="Tue" data-week="41">
		    <span class="calendar-day__number">11</span>
		    <div class="calendar-day__content" id="11"></div>
		  </li>
		  <li class="calendar-day calendar-day--entry" data-weekday="Wed" data-week="41">
		    <span class="calendar-day__number">12</span>
		    <div class="calendar-day__content" id="12"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Thu" data-week="41">
		    <span class="calendar-day__number">13</span>
		    <div class="calendar-day__content" id="13"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Fri" data-week="41">
		    <span class="calendar-day__number">14</span>
		    <div class="calendar-day__content" id="14"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Sat" data-week="41">
		    <span class="calendar-day__number">15</span>
		    <div class="calendar-day__content" id="15"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Sun" data-week="41">
		    <span class="calendar-day__number">16</span>
		    <div class="calendar-day__content" id="16"></div>
		  </li>
		  <li class="calendar-day calendar-day--begin-week" data-weekday="Mon" data-week="42">
		    <span class="calendar-day__number">17</span>
		    <div class="calendar-day__content" id="17"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Tue" data-week="42">
		    <span class="calendar-day__number">18</span>
		    <div class="calendar-day__content" id="18"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Wed" data-week="42">
		    <span class="calendar-day__number">19</span>
		    <div class="calendar-day__content" id="19"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Thu" data-week="42">
		    <span class="calendar-day__number">20</span>
		    <div class="calendar-day__content" id="20"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Fri" data-week="42">
		    <span class="calendar-day__number">21</span>
		    <div class="calendar-day__content" id="21"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Sat" data-week="42">
		    <span class="calendar-day__number">22</span>
		    <div class="calendar-day__content" id="22"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Sun" data-week="42">
		    <span class="calendar-day__number">23</span>
		    <div class="calendar-day__content" id="23"></div>
		  </li>
		  <li class="calendar-day calendar-day--begin-week" data-weekday="Mon" data-week="43">
		    <span class="calendar-day__number">24</span>
		    <div class="calendar-day__content" id="24"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Tue" data-week="43">
		    <span class="calendar-day__number">25</span>
		    <div class="calendar-day__content" id="25"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Wed" data-week="43">
		    <span class="calendar-day__number">26</span>
		    <div class="calendar-day__content" id="26"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Thu" data-week="43">
		    <span class="calendar-day__number">27</span>
		    <div class="calendar-day__content" id="27"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Fri" data-week="43">
		    <span class="calendar-day__number">28</span>
		    <div class="calendar-day__content" id="28"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Sat" data-week="43">
		    <span class="calendar-day__number">29</span>
		    <div class="calendar-day__content" id="29"></div>
		  </li>
		  <li class="calendar-day" data-weekday="Sun" data-week="43">
		    <span class="calendar-day__number">30</span>
		    <div class="calendar-day__content" id="30"></div>
		  </li>
		  <li class="calendar-day calendar-day--begin-week" data-weekday="Mon" data-week="44">
		    <span class="calendar-day__number">31</span>
		    <div class="calendar-day__content" id="31"></div>
		  </li>
		  <li class="calendar-day calendar-day--not-month" data-weekday="Tue" data-week="44">
		    <span class="calendar-day__number">01</span>
		    <div class="calendar-day__content"></div>
		  </li>
		  <li class="calendar-day calendar-day--not-month" data-weekday="Wed" data-week="44">
		    <span class="calendar-day__number">02</span>
		    <div class="calendar-day__content"></div>
		  </li>
		  <li class="calendar-day calendar-day--not-month" data-weekday="Thu" data-week="44">
		    <span class="calendar-day__number">03</span>
		    <div class="calendar-day__content"></div>
		  </li>
	  	<li class="calendar-day calendar-day--not-month" data-weekday="Fri" data-week="44">
	    	<span class="calendar-day__number">04</span>
	    	<div class="calendar-day__content"></div>
	  	</li>
	  	<li class="calendar-day calendar-day--not-month" data-weekday="Sat" data-week="44">
	    	<span class="calendar-day__number">05</span>
	    	<div class="calendar-day__content"></div>
	  	</li>
	 	<li class="calendar-day calendar-day--not-month" data-weekday="Sun" data-week="44">
	    	<span class="calendar-day__number">06</span>
	    	<div class="calendar-day__content"></div>
	  	</li>
	</ol>
	<script type="text/javascript" src="frontend.js"></script>
	<script type="text/javascript"></script>
 	<script type="text/javascript">
    function agregaimgdepeliculaaldiv(imgenbase64,iddeldiv,iddelapelicula)  //  Primero llega a la funcion de abajo cargarpeliculasdelmesyanno
    {
        document.getElementById('fec'+iddeldiv).innerHTML += "<img src='"+imgenbase64+"' height='42' width='42' id= "+iddelapelicula+" onclick='cargataquilla(\""+iddelapelicula+"\")'>"; //  El fec dentro del getElementById es porque solo reconoce los numeros y hay que concatenar el fec
    }
    
    function cargarpeliculasdelmesyanno()
    {
        let clasepeliculainstanciada = new _Pelicula();
        clasepeliculainstanciada.peliculaspormesyanno(document.getElementById("mes").value,document.getElementById("anno").value).then(function(response) {
            
            for(var elemento in response)
             {
                 var fechadelapeliculaactual = new Date(response[elemento].FECHA);
                 agregaimgdepeliculaaldiv(response[elemento].IMAGEN,fechadelapeliculaactual.getDate() + 1,response[elemento]._id);
                 
             }
                 
      }, function(error) {
       console.log(error);
      });
         
  	}

  	function cargataquilla(id)
        {
        	let clasepeliculainstanciada = new Pelicula(id);
            clasepeliculainstanciada.Seleccionarporid().then(function(response) {

				localStorage.setItem("peliculaseleccionada",JSON.stringify(response));
                location.href="index.html"
			}, function(error) {
			 	console.log(error);
			});
        }
  	</script>
</body>
</html>